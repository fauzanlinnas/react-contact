{"version":3,"sources":["tables/UserTable.jsx","forms/AddUserForm.jsx","forms/EditUserForm.jsx","hooks/useAsyncRequest.js","App.js","index.js"],"names":["UserTable","props","users","length","map","user","id","firstName","lastName","age","photo","key","src","alt","style","maxHeight","onClick","deleteUser","editUser","colSpan","AddUserForm","useState","setUser","handleChange","e","target","name","value","className","type","onChange","preventDefault","addUser","EditUserForm","useEffect","currentUser","updateUser","setEditing","useAsyncRequest","amount","data","setData","loading","setLoading","a","fetch","response","json","console","warn","fetchData","App","setUsers","formattedUsers","obj","filter","method","header","err","alert","editing","initialUser","username","setCurrentUser","newUser","body","JSON","stringify","parseInt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f536ab0.chunk.js","sourcesContent":["import React from 'react';\n\nconst UserTable = (props) => {\n    return (\n        <table>\n            <thead>\n                <tr>\n                    <th>Photo</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody>\n                {props.users.length > 0 ? (\n                    props.users.map(user => {\n                        const { id, firstName, lastName, age, photo } = user;\n                        return (\n                            <tr key={id}>\n                                <td>\n                                    <img\n                                        src={photo}\n                                        alt=\"profpic\"\n                                        style={{ maxHeight: '100px' }}\n                                    />\n                                </td>\n                                <td>{firstName}</td>\n                                <td>{lastName}</td>\n                                <td>{age}</td>\n                                <td>\n                                    <button onClick={() => props.deleteUser(id)}>Delete</button>\n                                    <button onClick={() => props.editUser(id, user)}>Edit</button>\n                                </td>\n                            </tr>\n                        )\n                    })\n                ) : (\n                        <tr>\n                            <td colSpan={4}>No users found</td>\n                        </tr>\n                    )\n                }\n            </tbody>\n        </table>\n    )\n}\n\nexport default UserTable;","import React, { useState } from 'react';\n\nconst AddUserForm = (props) => {\n\n    const initUser = { id: null, photo: '', firstName: '', lastName: '', age: '' };\n\n    const [user, setUser] = useState(initUser);\n\n    const handleChange = e => {\n        const { name, value } = e.target;\n        setUser({ ...user, [name]: value });\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (user.photo && user.firstName && user.lastName && user.age) {\n            handleChange(e, props.addUser(user));\n        }\n    }\n\n    return (\n        <form>\n            <label>Photo URL</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.photo} name=\"photo\" onChange={handleChange} />\n            <label>First Name</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.firstName} name=\"firstName\" onChange={handleChange} />\n            <label>Last Name</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.lastName} name=\"lastName\" onChange={handleChange} />\n            <label>Age</label>\n            <input className=\"u-full-width\" type=\"number\" value={user.age} name=\"age\" onChange={handleChange} />\n            <button className=\"button-primary\" type=\"submit\" onClick={handleSubmit} >Add user</button>\n        </form>\n    )\n}\n\nexport default AddUserForm;","import React, { useState, useEffect } from 'react';\n\nconst EditUserForm = (props) => {\n\n    useEffect(() => {\n        setUser(props.currentUser)\n    }, [props])\n\n    const [user, setUser] = useState(props.currentUser);\n\n    const handleChange = e => {\n        const { name, value } = e.target;\n        setUser({ ...user, [name]: value });\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (user.photo && user.firstName && user.lastName && user.age) props.updateUser(user);\n    }\n\n    return (\n        <form>\n            <label>Photo URL</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.photo} name=\"photo\" onChange={handleChange} />\n            <label>First Name</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.firstName} name=\"firstName\" onChange={handleChange} />\n            <label>Last Name</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.lastName} name=\"lastName\" onChange={handleChange} />\n            <label>Age</label>\n            <input className=\"u-full-width\" type=\"number\" value={user.age} name=\"age\" onChange={handleChange} />\n            <button className=\"button-primary\" type=\"submit\" onClick={handleSubmit} >Edit user</button>\n            <button type=\"submit\" onClick={() => props.setEditing(false)} >Cancel</button>\n        </form>\n    )\n}\n\nexport default EditUserForm;","import { useState, useEffect } from \"react\";\n\nconst useAsyncRequest = (amount) => {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                setLoading(true);\n                const response = await fetch(\n                    'https://simple-contact-crud.herokuapp.com/contact'\n                );\n                const json = await response.json();\n                setData(json.data, setLoading(false));\n            } catch (err) {\n                console.warn(\"Something went wrong fetching the API...\", err);\n                setLoading(false);\n            }\n        };\n\n        if (amount) {\n            fetchData(amount);\n        }\n    }, [amount]);\n\n    return [data, loading];\n};\n\nexport default useAsyncRequest;\n","import React, { useState, useEffect } from 'react';\nimport UserTable from './tables/UserTable';\nimport AddUserForm from './forms/AddUserForm';\nimport EditUserForm from './forms/EditUserForm';\n\nimport { useAsyncRequest } from \"./hooks\";\n\nconst App = () => {\n    const [data, loading] = useAsyncRequest(3);\n    // Fixed array of users:\n    // const [users, setUsers] = userList;\n    const [users, setUsers] = useState(null);\n\n    useEffect(() => {\n        if (data) {\n            const formattedUsers = data.map((obj) => {\n                return {\n                    id: obj.id,\n                    firstName: obj.firstName,\n                    lastName: obj.lastName,\n                    age: obj.age,\n                    photo: obj.photo\n                };\n            });\n            setUsers(formattedUsers);\n        }\n    }, [data]);\n\n    const addUser = (user) => {\n        user.age = parseInt(user.age);\n        setUsers([...users, user]);\n\n        try {\n            fetch(\n                'https://simple-contact-crud.herokuapp.com/contact/', {\n                method: 'POST',\n                header: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    'firstName': user.firstName,\n                    'lastName': user.lastName,\n                    'age': user.age,\n                    'photo': user.photo\n                })\n            }\n            );\n        } catch (err) {\n            console.warn(\"Something went wrong fetching the API...\", err);\n            alert(\"Something went wrong fetching the API...\", err);\n        }\n    };\n\n    const deleteUser = async (id) => {\n        setUsers(users.filter((user) => user.id !== id));\n\n        try {\n            fetch(\n                'https://simple-contact-crud.herokuapp.com/contact/' + id, {\n                method: 'DELETE',\n                header: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            }\n            );\n        } catch (err) {\n            console.warn(\"Something went wrong fetching the API...\", err);\n            alert(\"Something went wrong fetching the API...\", err);\n        }\n    };\n\n    const [editing, setEditing] = useState(false);\n\n    const initialUser = { id: null, name: \"\", username: \"\" };\n\n    const [currentUser, setCurrentUser] = useState(initialUser);\n\n    const editUser = (id, user) => {\n        setEditing(true);\n        setCurrentUser(user);\n    };\n\n    const updateUser = (newUser) => {\n        setUsers(\n            users.map((user) => (user.id === currentUser.id ? newUser : user))\n        );\n        setCurrentUser(initialUser);\n        setEditing(false);\n\n        try {\n            fetch(\n                'https://simple-contact-crud.herokuapp.com/contact/' + newUser.id, {\n                method: 'PUT',\n                header: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    'firstName': newUser.firstName,\n                    'lastName': newUser.lastName,\n                    'age': newUser.age,\n                    'photo': newUser.photo\n                })\n            }\n            );\n        } catch (err) {\n            console.warn(\"Something went wrong fetching the API...\", err);\n            alert(\"Something went wrong fetching the API...\", err);\n        }\n    };\n\n    return (\n        <div className=\"container\">\n            <h1>Contacts</h1>\n            <div className=\"row\">\n                <div className=\"five columns\">\n                    {editing ? (\n                        <div>\n                            <h2>Edit contact</h2>\n                            <EditUserForm\n                                currentUser={currentUser}\n                                setEditing={setEditing}\n                                updateUser={updateUser}\n                            />\n                        </div>\n                    ) : (\n                            <div>\n                                <h2>Add contact</h2>\n                                <AddUserForm addUser={addUser} />\n                            </div>\n                        )}\n                </div>\n                {loading || !users ? (\n                    <p>Loading...</p>\n                ) : (\n                        <div className=\"seven columns\">\n                            <h2>View contacts</h2>\n\n                            <UserTable\n                                users={users}\n                                deleteUser={deleteUser}\n                                editUser={editUser}\n                            />\n                        </div>\n                    )}\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}